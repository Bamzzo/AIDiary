# AIDiary
1. 功能概述
本项目是一款基于Python的智能日记应用，利用科大讯飞语音转写、deepseek和文心一言
进行AI智能分析和格式化输出功能，可通过图形用户界面和相关UI来实现与使用者的交互，
打造现代化的语音日记记录与智能分析解决方案。
主要功能模块：
1.1 语音录制模块
技术实现：PyAudio
核心功能：
设备自动检测：程序启动时自动扫描并列出所有可用的麦克风设备，可在下拉菜单中选择。
实时录制：提供“开始录制”和“结束录制”按钮，分步调控实时录音。
状态显示：包含一个计时器，在录制时变为红色并实时更新时长。
音频本地化：录音结束后，音频数据被保存为本地文件，为后续转写做准备。
1.2 语音转写模块
技术实现：websocket-client + 科大讯飞语音听写API
核心功能：
WebSocket 通信：通过WebSocket将1.1步骤中保存的本地音频文件以发送到科大讯飞的语
音听写服务器。
实时转写：服务器实时返回识别的文字片段，并动态追加显示在“日记原文”文本框中，实
现“边说边看”的实时效果。
错误处理：捕获API返回的错误（如未识别到文字）并通过弹窗和状态栏提示用户。
1.3 AI 智能分析模块
技术实现：requests+ 文心一言/DeepSeekAPI
核心功能：
双模型支持：支持文心一言和DeepSeek两种大模型，可通过下拉菜单自由切换。
Prompt 自定义：提供了“AI分析提示词”编辑框，用户可以实时修改Prompt，自行修改分
析的方式，内容，格式，风格。
结构化分析：
根据默认Prompt，AI会对日记文本进行多维度分析并按Markdown格式输出，包含：
1.标题生成
2.情感倾向（积极/消极/中性）
3.关键词提取
4.主题摘要
5.深度分析与建议
1.4 图形用户界面 (GUI) 模块
技术实现：tkinter+ttk
核心功能：
UI 布局：采用左右分栏（PanedWindow）布局，左侧为控制区，右侧为内容区。
模块设计：左侧控制区分为“录制”、“转写”、“分析”三个功能卡片。
样式设计：通过ttk.Style定制了控件（如按钮、下拉框、滚动条）的颜色、字体和边框。
实时状态栏：界面左下角有状态栏，实时反馈“就绪”、“录音中”、“转写失败”等信息。
1.5 格式化输出模块
核心功能：
Markdown 渲染：AI分析结果以Markdown格式返回，清晰地展示在“AI智能分析报告”文
本框中。
本地保存：用户可以点击“导出 Markdown 文件”按钮，将分析结果完整保存为 .md 文件，
便于后续在其他编辑器中查看和存档。
2. 使用流程
1. 启动程序：运行主程序，应用主界面启动。
2. 步骤一：录制
在左上角的“第一步：语音录制”卡片中，从“麦克风设备”下拉菜单选择你正在使用的麦
克风。
点击“开始录制”按钮，此时按钮变灰，计时器开始变红跳动，状态栏提示“正在录音中...”。
对着麦克风说出你的日记内容。
说完后，点击“结束录制”按钮。计时器停止，状态栏提示“录音已完成”。
3. 步骤二：转写
在“第二步：语音转写”卡片中，点击“开始智能转写”按钮。
程序开始连接讯飞服务器并上传音频。状态栏提示“正在连接...”。
转写开始后，右侧的“日记原文”框中会开始陆续出现识别出的文字。
完成后，状态栏提示“语音转写成功！”。
4. 步骤三：分析
可在右侧“AI分析提示词”框中修改Prompt，以调整分析风格。
可在左下角“第三步：AI深度分析”卡片中，切换你想要的AI模型（默认为DeepSeek）。
点击“生成分析报告”按钮。
程序开始连接AI服务器。状态栏提示“正在调用[模型]...”。
5. 查看与保存
分析完成后，结果将自动显示在右下角的“AI智能分析报告”框中。
点击右下角的“导出 Markdown文件”按钮，在弹出的窗口中选择位置并命名，即可将分
析报告保存到本地。
